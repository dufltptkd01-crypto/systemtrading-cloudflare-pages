<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#24185f" />
  <title>SystemTrading Premier</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700;800&family=Outfit:wght@500;600;700;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="./styles.css" />
</head>
<body class="theme-home">
  <div class="bg-aurora" aria-hidden="true"></div>
  <div class="bg-arc arc-1" aria-hidden="true"></div>
  <div class="bg-arc arc-2" aria-hidden="true"></div>

  <header class="hero-nav wrap">
    <nav class="left-nav" aria-label="서비스 메뉴">
      <button class="nav-pill active" type="button" data-tab="intro">시스템 소개</button>
      <button class="nav-pill" type="button" data-tab="stock">주식 투자</button>
      <button class="nav-pill" type="button" data-tab="coin">코인 투자</button>
    </nav>
    <div class="right-nav">
      <a class="nav-pill link" href="./signup.html">회원가입</a>
      <a class="nav-pill link" href="./login.html">로그인</a>
    </div>
  </header>

  <main class="wrap home-main">
    <section class="hero-copy">
      <p class="hero-mini">신개념 AI 투자</p>
      <h1>시간은 2배 절약,<br />수익은 2배 확장</h1>
      <p class="hero-sub">뉴스, 기술지표, 차트 패턴, 거래 기록 학습을 통합해 자동매매의 전 과정을 정교하게 운영합니다.</p>
      <div class="hero-actions">
        <button id="btnTrial" type="button" class="cta-main">7일 무료체험</button>
      </div>
    </section>

    <section class="status-row">
      <article class="status-card">
        <span>로그인 상태</span>
        <strong id="authStateBadge">미로그인</strong>
      </article>
      <article class="status-card">
        <span>본인인증</span>
        <strong id="verifyStateBadge">미인증</strong>
      </article>
      <article class="status-card">
        <span>API 연결</span>
        <strong id="apiStateBadge">Demo</strong>
      </article>
      <article class="status-card">
        <span>현재 모드</span>
        <strong id="activeModeBadge">DRY RUN</strong>
      </article>
    </section>

    <section id="tab-intro" class="tab-panel active">
      <div class="intro-grid">
        <article class="glass-panel">
          <h2>시스템 소개</h2>
          <p class="lead">이 시스템은 단순 신호 매매가 아니라, 선별-집행-회고-개선까지 하나의 사이클로 운영됩니다.</p>
          <ul class="flow-list">
            <li>
              <h3>1. 데이터 수집</h3>
              <p>각종 뉴스, 키움 뉴스, 기술 지표, 가격/거래량 패턴을 동시에 반영합니다.</p>
            </li>
            <li>
              <h3>2. 후보 압축</h3>
              <p>상승 확률 상위 10개를 먼저 추리고, 최종 1개 종목/심볼만 선택해 집중 진입합니다.</p>
            </li>
            <li>
              <h3>3. 실행 및 알림</h3>
              <p>매수/매도 체결은 Telegram으로 즉시 전달되고, 리스크 규칙(예: DRY RUN, 손절/익절)이 함께 적용됩니다.</p>
            </li>
            <li>
              <h3>4. 회고 및 개선</h3>
              <p>매매 일지를 자동 기록한 뒤 승률/손익/드로우다운을 분석하여 다음 세션 파라미터를 개선합니다.</p>
            </li>
          </ul>
        </article>

        <article class="glass-panel feedback-panel">
          <h2>매매 일지 피드백 루프</h2>
          <ol class="feedback-steps">
            <li>
              <span>01</span>
              <div>
                <h3>체결 로그 누적</h3>
                <p>진입 사유, 체결가, 손익, 시장상황을 세션별로 축적합니다.</p>
              </div>
            </li>
            <li>
              <span>02</span>
              <div>
                <h3>성과 분석 실행</h3>
                <p>승률, 평균 수익률, 최대 손실 구간을 자동 진단합니다.</p>
              </div>
            </li>
            <li>
              <span>03</span>
              <div>
                <h3>개선 포인트 반영</h3>
                <p>진입 필터, 종목 선별 가중치, 리스크 파라미터를 재조정합니다.</p>
              </div>
            </li>
          </ol>
          <div class="intro-actions">
            <button id="btnMoveStock" type="button" class="soft-btn">주식 투자 설정</button>
            <button id="btnMoveCoin" type="button" class="soft-btn">코인 투자 설정</button>
          </div>
        </article>
      </div>
    </section>

    <section id="tab-stock" class="tab-panel">
      <div class="setup-grid">
        <article class="glass-panel">
          <h2>주식 투자 설정</h2>
          <form id="stockForm" class="form-grid">
            <label for="apiBase">Backend API Base URL</label>
            <input id="apiBase" type="text" placeholder="https://api.example.com" />

            <label for="apiToken">Static API Token (선택)</label>
            <input id="apiToken" type="password" placeholder="Bearer token" />

            <label for="accountNo">계좌번호</label>
            <input id="accountNo" type="text" placeholder="8120-0764" />

            <label for="stockSymbol">주식 종목코드</label>
            <input id="stockSymbol" type="text" placeholder="005930" />

            <label for="stockBudget">1회 최대 주문금액 (KRW)</label>
            <input id="stockBudget" type="number" min="10000" max="2000000" value="2000000" />

            <label for="stockAutoSelect">자동 종목 선정</label>
            <select id="stockAutoSelect">
              <option value="true">ON</option>
              <option value="false">OFF</option>
            </select>

            <label for="stockDryRun">실행 모드</label>
            <select id="stockDryRun">
              <option value="true">DRY RUN</option>
              <option value="false">LIVE</option>
            </select>

            <label for="kiwoomApiKey">Kiwoom API Key</label>
            <input id="kiwoomApiKey" type="text" placeholder="Kiwoom API Key" />

            <label for="kiwoomApiSecret">Kiwoom API Secret</label>
            <input id="kiwoomApiSecret" type="password" placeholder="Kiwoom API Secret" />

            <label for="telegramToken">Telegram Bot Token</label>
            <input id="telegramToken" type="text" placeholder="123456:ABC..." />

            <label for="telegramChatId">Telegram Chat ID</label>
            <input id="telegramChatId" type="text" placeholder="123456789" />

            <div class="form-actions">
              <button id="btnSaveStock" type="submit" class="soft-btn primary">주식 설정 저장</button>
              <button id="btnStartStock" type="button" class="soft-btn accent">주식 자동매매 시작</button>
            </div>
          </form>
        </article>

        <article class="glass-panel side-panel">
          <h2>보안/실행 상태</h2>
          <p class="side-note">회원가입/로그인은 상단 버튼에서 별도 페이지로 진행하세요.</p>

          <div class="action-stack">
            <button id="btnCheckApi" type="button" class="soft-btn">API 연결 확인</button>
            <button id="btnVerifyStart" type="button" class="soft-btn">본인인증 시작</button>
            <button id="btnVerifyRefresh" type="button" class="soft-btn">인증 상태 새로고침</button>
          </div>

          <form id="verifyCodeForm" class="verify-form">
            <label for="verifyCode">인증 코드</label>
            <input id="verifyCode" type="text" placeholder="6자리 코드" />
            <button type="submit" class="soft-btn">코드 제출</button>
          </form>

          <p id="verifyHint" class="side-note">실서비스 연동 전에는 데모 모드로 인증 흐름을 테스트할 수 있습니다.</p>
        </article>
      </div>
    </section>

    <section id="tab-coin" class="tab-panel">
      <div class="setup-grid">
        <article class="glass-panel">
          <h2>코인 투자 설정</h2>
          <form id="coinForm" class="form-grid">
            <label for="coinExchange">거래소</label>
            <select id="coinExchange">
              <option value="binance">Binance</option>
              <option value="upbit">Upbit</option>
            </select>

            <label for="coinSymbol">심볼</label>
            <input id="coinSymbol" type="text" placeholder="BTC/USDT 또는 BTC/KRW" />

            <label for="coinBudget">1회 최대 주문금액 (KRW)</label>
            <input id="coinBudget" type="number" min="10000" max="2000000" value="2000000" />

            <label for="coinAutoSelect">자동 심볼 선정</label>
            <select id="coinAutoSelect">
              <option value="true">ON</option>
              <option value="false">OFF</option>
            </select>

            <label for="coinDryRun">실행 모드</label>
            <select id="coinDryRun">
              <option value="true">DRY RUN</option>
              <option value="false">LIVE</option>
            </select>

            <label for="binanceApiKey">Binance API Key</label>
            <input id="binanceApiKey" type="text" placeholder="Binance API Key" />

            <label for="binanceApiSecret">Binance API Secret</label>
            <input id="binanceApiSecret" type="password" placeholder="Binance API Secret" />

            <label for="upbitApiKey">Upbit Access Key</label>
            <input id="upbitApiKey" type="text" placeholder="Upbit Access Key" />

            <label for="upbitApiSecret">Upbit Secret Key</label>
            <input id="upbitApiSecret" type="password" placeholder="Upbit Secret Key" />

            <div class="form-actions">
              <button id="btnSaveCoin" type="submit" class="soft-btn primary">코인 설정 저장</button>
              <button id="btnStartCoin" type="button" class="soft-btn accent">코인 자동매매 시작</button>
            </div>
          </form>
        </article>

        <article class="glass-panel side-panel">
          <h2>자동매매 운영</h2>
          <div class="action-stack">
            <button id="btnStop" type="button" class="soft-btn danger">자동매매 중지</button>
            <button id="btnAnalyze" type="button" class="soft-btn">매매일지 분석 실행</button>
            <button id="btnLoadReport" type="button" class="soft-btn">최근 분석 리포트 조회</button>
          </div>
          <p id="guardText" class="side-note">실행 전: 로그인 + 본인인증 + 종목/심볼 설정 + API 확인이 필요합니다.</p>
        </article>
      </div>
    </section>

    <section class="result-area glass-panel">
      <h2>실행 로그</h2>
      <pre id="resultBox">준비 완료. 상단 탭에서 설정을 완료하고 자동매매를 시작하세요.</pre>
    </section>
  </main>

  <script src="./config.js"></script>
  <script src="./portal-core.js"></script>
  <script src="./index.js"></script>
</body>
</html>
